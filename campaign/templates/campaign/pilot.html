{% extends 'base.html' %}

{% block content %}
Callsign: {{pilot.callsign}}<br />
Campaign: {{pilot.campaign}}<br />
Missions Flow: {{missions}}<br />
Total XP Earned: {{pilot.total_xp}}<br />
Total XP Spent: {{spent}}<br />

<h4>Upgrades</h4>
<div class="container">
        {% for upgrade in pilot.upgrades.all %}
        {% ifchanged upgrade.type %}
        {% if not forloop.first %}
        </ul>
    </div>
        {% endif %}
    <div class="row">
        <ul class="list-inline">
            <li class="list-inline-item"><strong>{{upgrade.get_type_display}}</strong></li>
        {% endifchanged %}
            <li class="list-inline-item">{{upgrade}}</li>
        {% endfor %}
        </ul>
    </div>
</div>


<div class="row">
    <div class="col">
        <h4>Ships</h4>
    </div>
</div>

{% for ship in pilot.pilotship_set.all %}
<div class="container">
    <div class="row">
        <div class="col">
            <h5>{{ship.ship.name}}</h5>
        </div>
        <div class="col">
            Initiative {{ship.initiative}}
        </div>
        <div class="col">
            Threat {{ship.threat}}
        </div>
    </div>

    <div class="row">
        {% for slot in ship.unlocked.all %}
        {% ifchanged slot.threat %}
        {% if not forloop.first %}
        </div>
        {% endif %}
        <div class="col">
            <h6>Threat {{slot.threat}}</h6>
       {% endifchanged %}
            <div>{{slot.get_type_display}} ({{slot.cost}})</div>
        {% endfor %}
        </div>
    </div>
</div>
{% endfor %}

Achievements
<ul>
{% for event in achievements %}
    <li>{{event.event}}: {{event.count}}</li>
{% endfor %}
</ul>

{% endblock %}