{% extends 'base.html' %}

{% load xwf_extras %}
{% load static %}

{% block content %}

{% with ai.dial.chassis as ship %}
<div class="container text-center">
    <h5 class=""><i class="xw-ship xw-ship-{{ship.css_name}}"></i>{{ai.dial.chassis}} AI</h5>

    <div class="container nav nav-pills mb-4" role="tablist">
        <div class="row justify-content-between w-100">
            <div class="nav-item col-2" role="presentation">
                <button class="btn nav-link"
                        type="button"
                        id="mv-fl-tab"
                        data-bs-toggle="pill"
                        data-bs-target="#mv-fl"
                        role="tab"
                        aria-controls="home"
                        aria-selected="true">Front (Left)</button>
            </div>

            <div class="nav-item col-2" role="presentation">
                <button class="btn nav-link"
                        type="button"
                        id="mv-be-tab"
                        data-bs-toggle="pill"
                        data-bs-target="#mv-be"
                        role="tab"
                        aria-controls="home"
                        aria-selected="true">Bullseye</button>
            </div>

            <div class="nav-item col-2" role="presentation">
                <button class="btn nav-link"
                        type="button"
                        id="mv-fr-tab"
                        data-bs-toggle="pill"
                        data-bs-target="#mv-fr"
                        role="tab"
                        aria-controls="home"
                        aria-selected="true">Front (Right)</button>
            </div>
        </div>

        <div class="row justify-content-between w-100">
            <div class="nav-item col-2" role="presentation">
                <button class="btn nav-link"
                        type="button"
                        id="mv-lf-tab"
                        data-bs-toggle="pill"
                        data-bs-target="#mv-lf"
                        role="tab"
                        aria-controls="home"
                        aria-selected="true">Left (Front)</button>
            </div>

            <div class="nav-item col-2" role="presentation">
                <button class="btn nav-link"
                        type="button"
                        id="mv-rf-tab"
                        data-bs-toggle="pill"
                        data-bs-target="#mv-rf"
                        role="tab"
                        aria-controls="home"
                        aria-selected="true">Right (Front)</button>
            </div>
        </div>

        <div class="row justify-content-between w-100">
            <div class="nav-item col-2" role="presentation">
                <button class="btn nav-link"
                        type="button"
                        id="mv-la-tab"
                        data-bs-toggle="pill"
                        data-bs-target="#mv-la"
                        role="tab"
                         aria-controls="home"
                         aria-selected="true">Left (Rear)</button>
            </div>

            <div class="nav-item col-2" role="presentation">
                <button class="btn nav-link"
                        type="button"
                        id="mv-ra-tab"
                        data-bs-toggle="pill"
                        data-bs-target="#mv-ra"
                        role="tab"
                        aria-controls="home"
                        aria-selected="true">Right (Rear)</button>
            </div>
        </div>

        <div class="row justify-content-between w-100">
            <div class="nav-item col-2" role="presentation">
                <button class="btn nav-link"
                        type="button"
                        id="mv-al-tab"
                        data-bs-toggle="pill"
                        data-bs-target="#mv-al"
                        role="tab"
                        aria-controls="home"
                        aria-selected="true">Rear (Left)</button>
            </div>

            <div class="nav-item col-2" role="presentation">
                <button class="btn nav-link"
                        type="button"
                        id="mv-ar-tab"
                        data-bs-toggle="pill"
                        data-bs-target="#mv-ar"
                        role="tab"
                        aria-controls="home"
                        aria-selected="true">Rear (Right)</button>
            </div>
        </div>

    </div>

    <div class="tab-content">
    {% regroup mvs by arc as maneuvers %}

        {% for dir in maneuvers %}

        <div class="tab-pane fade {% if forloop.first %}show{% endif %}" id="mv-{{dir.grouper|lower}}" role="tabpanel" aria-labelledby="mv-{{dir.grouper|lower}}-tab">
        {% for r in dir.list %}
            <button type="button" class="btn btn-block btn-secondary">{{r.get_range_display}}</button>
            <ul class="list-group mb-4 d-flex list-group-horizontal">
                {% for roll in r.rolls %}
                <li class="list-group-item flex-fill px-1">{{roll.speed}}<span class="{{roll.icon_color}}">{{roll.css_name|get_icon}}</span></li>
                {% endfor %}
            </ul>
        {% endfor %}
        </div>
        {% endfor %}

        <div>
            <div>Flee Threshold: {{ai.flee}}</div>
            <div>Hyperdrive: {{ai.dial.chassis.hyperdrive|yesno}}</div>
            </ul>
        </div>
    </div>


</div>
{% endwith %}
{% endblock content %}

{% block extrajs %}
    <script src="{% static 'js/ai.js' %}"></script>
{% endblock extrajs %}
